{% extends "layout.html" %}

{% block styles %} <styles src="../static/styles.css"></styles> {% endblock %}

{% block scripts %} <script src="../static/index.js"></script> {% endblock %}

{% block title %} Vault {% endblock %}

{% block main %}
    <table class="table table-striped">
        <thead>
        <tr>
            <th class="text-start">Domain</th>
            <th class="text-start">Username</th>
            <th class="text-start">Password</th>
        </tr>
        </thead>
            <tbody>
                {% for item in list %}
                <tr id="{{ item.id }}" name="tbody-row">
                    <td class="text-start">{{ item.domain}}</td>
                    <td class="text-start">{{ item.username }}</td>
                    <td class="text-start">
                        <div class="container-sm px-0">
                            <input class="form-control mx-auto w-auto" name="password-field" type="password" value="{{ item.hash }}" readonly style="display:inline-block">
                            <button class="btn" name="visibility" title="Show">
                                <img src="../static/images/eye.svg" alt="Show" name="eye">
                            </button>
                            <button class="btn" name="copy-button" title="Copy to clipboard">
                                <img src="../static/images/clipboard.svg" alt="Copy to clipboard" name="clipboard">
                            </button>
                            <button class="btn" name="edit" title="Edit">
                                <img src="../static/images/pencil.svg" alt="Edit" name="pencil">
                            </button>
                            <button class="btn" name="delete" title="Delete">
                                <img src="../static/images/trash3.svg" alt="Delete">
                            </button>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        <tfoot>
            <tr>
                <td class= "border-0 text-end" colspan="6"><button class="btn btn-light" id="add" title="Add" data-bs-toggle="modal" data-bs-target="#add-password-modal">
                    <img src="../static/images/plus-square.svg" alt="Add">
                </button></td>
            </tr>
        </tfoot>
    </table>
    
    <!-- Modal for adding a password -->
    <div class="modal fade" id="add-password-modal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
            <h1 class="modal-title fs-5" id="ModalLabel">Add a new password</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="/" method="post">
                    <div class="mb-3">
                        <input autocomplete="off" autofocus class="form-control mx auto w-auto" id="domain" name="domain" placeholder="Domain" type="text" style="display:inline-block">
                    </div>
                    <div class="mb-3">
                        <input autocomplete="off" autofocus class="form-control mx auto w-auto" id="username" name="username" placeholder="Username" type="text" style="display:inline-block">
                    </div>
                    <div class="mb-3">
                        <input autocomplete="off" autofocus class="form-control mx auto w-auto" id="password" name="password" placeholder="Password" type="password" style="display:inline-block">
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" style="float:none";>
                        <label class="form-check-label" for="flexCheckDefault">
                            Show password
                        </label>
                    </div>
                    <button class="btn btn-primary btn-sm" type="submit">Confirm</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
